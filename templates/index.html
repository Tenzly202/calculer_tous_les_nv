<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Calcul de la moyenne</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 30px; }
        label { display: block; margin-top: 10px; }
        input[type="number"] { width: 60px; }
        select { margin-bottom: 20px; }
        button { margin-top: 20px; padding: 10px 20px; }
    </style>
</head>
<body>
    <h1>Calcul de la moyenne</h1>
    <form method="POST">
        <label for="classe">Choisir la classe :</label>
        <select name="classe" id="classe" onchange="this.form.submit()">
            <option value="">-- SÃ©lectionner --</option>
            {% for c in classes %}
            <option value="{{ c }}" {% if request.form.classe==c %}selected{% endif %}>{{ c }}</option>
            {% endfor %}
        </select>
        <br>
        {% if request.form.classe %}
            {% for matiere, coef in coeffs[request.form.classe].items() %}
                <label>{{ matiere }} (coef {{ coef }}) :</label>
                <input type="number" name="{{ matiere }}" step="0.01" min="0" max="20" required>
            {% endfor %}
            <button type="submit">Calculer</button>
        {% endif %}
    </form>
</body>
</html>
